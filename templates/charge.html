{% extends "base.html" %}


{% block body %}
  <div class="dashboard">
    <div class="row">
      <div class="col-lg-12">
        <div class="jumbotron">
          <h1>Dashboard</h1>
          <br />
          <br />
          <p>Welcome to <b>bitrich</b>! Ready to make some money?</p>
          <p>In this user dashboard, you can:
          <ul>
            <li>Make micro investments in Bitcoin using your credit or debit
            card.</li>
            <li>View how well your Bitcoin investments are doing (are you
            beating the market, or losing money?).</li>
            <li>Cash out your investments and reclaim your money in USD
            immediately.</li>
          </ul>
          <br />
          <br />
          <h2>Your Investments</h2>
          <br />
          <br />
          <p>Add Investment</p>
          <p>Investing in Bitcoin is easy. Just fill out the fields below, then
          press 'Make Investment'.</p>
          <form method="post" class="bs-example form-horizontal" action="">
            <div class="form-group">
              <label for="amount" class="col-lg-2 control-label">Amount</label>
              <div class="col-lg-4">
                <input type="text" class="form-control" id="amount" name="amount" placeholder="10.00" onchange="update_amount(this.value);">
              </div>
              <div class="col-lg-5">
                <span><b>NOTE</b>: Minimum investment is 10$.</span>
              </div>
            </div>
            <div class="form-group">
              <label for="lower-limit" class="col-lg-2 control-label">Lower Limit</label>
              <div class="col-lg-4">
                <input type="text" class="form-control" id="lower-limit" name="lower-limit" placeholder="5%" onchange="update_lower_limit(this.value);">
              </div>
              <div class="col-lg-5">
                <span>How much money (as a percentage of your investment) are
                  you willing to lose?</span>
              </div>
            </div>
            <div class="form-group">
              <label for="upper-limit" class="col-lg-2 control-label">Upper Limit</label>
              <div class="col-lg-4">
                <input type="text" class="form-control" id="upper-limit" name="upper-limit" placeholder="5%" onchange="update_upper_limit(this.value);">
              </div>
              <div class="col-lg-5">
                <span>At what point should we sell your bitcoin and return your
                  money?</span>
              </div>
            </div>
            <div class="form-group">
              <div class="col-lg-10 col-lg-offset-2">
                <form action="/charge" method="POST">
                    <script
                          src="https://checkout.stripe.com/checkout.js"
                          class="stripe-button"
                              data-key="pk_test_5eDu7lfLW7a14XPk2JUbtghT"
                                  data-image="/square-image.png"
                                      data-name="Demo Site"
                                          data-description="2 widgets ($20.00)"
                                              data-amount="2000">
                                                </script>
                                                </form>
                                                <!--
                <form action="{{ url_for('charge') }}" method="POST">
                  <button id="stripeButton" class="btn btn-primary">Make Investment</button>
                  <script src="https://checkout.stripe.com/checkout.js"></script>
                  <script>
                    var handler = StripeCheckout.configure({
                      key: '{{ config["STRIPE_PUBLISHABLE_KEY"] }}',
                      image: 'http://www.extremetech.com/wp-content/uploads/2013/08/bitcoin1.jpg',
                      token: function(token, args) {
                        // Use the token to create the charge with a server-side script.
                        // You can access the token ID with `token.id`
                      }
                    });

                    document.getElementById('stripeButton').addEventListener('click', function(e) {
                      var amount = parseFloat($('#amount').val()) * 100;
                      if (!amount) {
                        amount = 1000;
                      }

                      // Open Checkout with further options
                      handler.open({
                        name: 'BitRich',
                        description: 'Single, non-refundable deposit.',
                        amount: amount,
                        email: '{{ user["email"] }}',
                      });
                      e.preventDefault();
                    });
                  </script>
                </form>
                -->
              </div>
            </div>
          </form>
          <br />
          <br />
        </div>
      </div>
    </div>
  </div>
{% endblock %}
